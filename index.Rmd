--- 
site: bookdown::bookdown_site

author: "peacecop kalmer:"
colorlinks: TRUE
date: "`r Sys.Date()`"
description: "This is the manual for creating content using RStudio Server."
lang: en
title: "Manual for creating content using RStudio Server"

documentclass: book
papersize: a4
geometry: top=2cm, right=2cm, bottom=3cm, left=3cm
classoption: onecolumn, twoside
linestretch: 1.5

fontsize: 12pt
mainfont: Times New Roman
CJKmainfont: Droid Sans Fallback

bibliography: [book.bib]
link-citations: yes

lof: yes
lot: yes

---

```{r setup, echo=FALSE, message=FALSE}
# example chunk options set globally
knitr::opts_chunk$set(
  collapse = TRUE,
  echo = TRUE
)

local({
  hook_source <- knitr::knit_hooks$get('source')
  knitr::knit_hooks$set(source = function(x, options) {
    x <- xfun::split_lines(x)
    n <- nchar(x, 'width')
    i <- seq_along(x)  # line numbers
    n <- n + nchar(i)
    s <- knitr:::v_spaces(max(n) - n)
    x <- paste(x, s, '  # ', i, sep = '', collapse = '\n')
    hook_source(x, options)
  })
})

if (!require("librarian")) {
  install.packages("librarian", dependencies = TRUE)
}

library(librarian)

#' This function displays external graphics by making the appropriate conversion aforehead.
#' 
#' @param path the path to the image file
include_external_graphics = function(path) {

  if (knitr::is_latex_output() && ("pdf" != xfun::file_ext(path))) {
    output = xfun::with_ext(path, 'pdf')
    
    if ("svg" == xfun::file_ext(path)) {
      system2('rsvg-convert', c('-f', 'pdf', '-a', '-o', shQuote(c(output, path))))
    } else {
      system(paste('gm convert ', path, ' ', output), intern = FALSE, ignore.stdout = FALSE, ignore.stderr = FALSE, wait = TRUE)
    }
    
  } else {
    output = path
  }
  
  knitr::include_graphics(output)
}

#' This function creates and displays a table.
#' 
#' @param data_frame the data frame
#' @param caption the caption
#' @param digits the number of significant digits
#' @param additional_header the additional header
#' 
#' @returns the table
print_table <- function(data_frame, caption, digits = 2, additional_header = "") {

  if (!is.null(knitr::opts_knit$get('rmarkdown.pandoc.to')) && (knitr::opts_knit$get('rmarkdown.pandoc.to') == "docx")) {
    librarian::shelf("flextable")
    table <- (flextable(data_frame))
  } else {
    librarian::shelf("kableExtra")

    table <- kable(data_frame, booktabs = TRUE, escape = FALSE, caption = caption, digits = digits, longtable = TRUE)
    
    if (is.data.frame(additional_header) || is.vector(additional_header)) {
      table <- add_header_above(kable_input = table, header = additional_header, escape = FALSE)
    }
    
    
    table <- (kable_styling(
      table,
      bootstrap_options = c("striped", "bordered", "condensed", "responsive", "hover"),
      latex_options = c("striped", "repeat_header"),
      repeat_header_text = paste(caption, "$\\textit{(J채tkub...)}$"),
      repeat_header_method = "replace",
      repeat_header_continued = "Tabel j채rgneb j채rgmisel lehek체ljel..."
    ))
    
  } 

  return(table)
}

```

```{=tex}
\sisetup{inter-unit-product = \ensuremath { { } \times { } } }
```

# Introduction

Once upon a time, a student asked me to help him in R. i had no experience with R, however i gave it a chance. i installed RStudio Server. Months passed after my first use until i needed it for my stuff. i was studying statistics in a university and our teacher wanted us to create our solutions using a spreadsheet program. i saw that using R, i could learn more useful stuff and moved on RStudio Server. i learnt to create output using *bookdown* which is a library that can be used for creating websites or e-books while including calculations and graphs. As *bookdown* has a steap learning curve, i want to elaborate it here. Template strings are marked with angle brackets.
